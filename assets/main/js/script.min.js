document.addEventListener("DOMContentLoaded",e=>{gsap.registerPlugin(ScrollTrigger,SplitText);let t=new Lenis,r=(t.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{t.raf(1e3*e)}),gsap.ticker.lagSmoothing(0),document.querySelector(".spotlight-images")),o=document.querySelector(".mask-container"),a=document.querySelector(".mask-img");var s=document.querySelector(".mask-container .heading h1");let i=r.offsetHeight;var g=window.innerHeight,l=.05*i;let p=i+l+g,n=null;s&&(n=SplitText.create(s,{type:"words",wordsClass:"spotlight-word"}),gsap.set(n.words,{opacity:0})),ScrollTrigger.create({trigger:".spotlight",start:"top top",end:`+=${7*window.innerHeight}px`,pin:!0,pinSpacing:!0,scrub:1,markers:!0,onUpdate:e=>{var t,s,e=e.progress;if(e<=.5&&(s=e/.5,s=5+(100*-(p/i)-5)*s,gsap.set(r,{y:s+"%"})),o&&a&&(.25<=e&&e<=.75?(t=450*(s=(e-.25)/.5)+"%",s=1.5-.5*s,o.style.setProperty("mask-size",t),gsap.set(a,{scale:s})):e<.25?(o.style.setProperty("mask-size","0%"),gsap.set(a,{scale:1.5})):.75<e&&(o.style.setProperty("mask-size","450%"),gsap.set(a,{scale:1}))),n&&0<n.words.length)if(.75<=e&&e<=.95){let s=(e-.75)/.2,r=n.words.length;n.words.forEach((e,t)=>{t/=r;s>=t?gsap.set(e,{opacity:1}):gsap.set(e,{opacity:0})})}else e<.75?gsap.set(n.words,{opacity:0}):.95<e&&gsap.set(n.words,{opacity:1})}})});